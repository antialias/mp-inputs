@import "../../../../stylesheets/common"

legend-left-padding = 15px
label-line-height = 18px

.legend, chart-legend, .chart-legend
  display flex
  flex-direction column
  flex 1 0

.chart-legend
  background-color grey-50
  border-radius 0 0 5px 0
  display flex
  flex-direction column

  .has-results
    flex-grow 1

    .select-all
      margin-top 5px

  .header
    background-color header-gray
    border 1px solid border-gray
    border-right none
    border-top none
    color grey-500
    flex 0 0
    font-size 12px
    height 40px
    line-height 40px
    padding-left legend-left-padding

  .content-wrapper
    border-left 1px dotted border-gray
    display flex
    flex 1 0
    flex-direction column
    height 100%
    min-height 600px
    position relative

  .search
    border-bottom 1px solid #dde8ef
    position relative
    svg-icon-style(grey-500, pos-left: 12px, pos-top: 7px)
    svg-icon
      position absolute

    &.active:before
      background-color grey-900

    input
      background-color #fff
      border 0
      box-sizing border-box
      color grey-900
      font 500 13px font-helvetica-neue
      margin 0
      padding 0
      padding-left legend-left-padding + 24px
      height 36px
      width 100%
      &::placeholder
        color #a9b7c4

      &:focus
        outline-width 0

  .body-loader
    height 400px
    padding 20px

    .series-loader
      display flex
      height 20px
      margin-bottom 18px

      .select-icon-loader
        background-color grey-200
        border-radius 3px
        height 18px
        margin-right 12px
        width 18px

      .label-loader
        background-color grey-200
        border-radius 3px
        height 18px
        width 100px

  .has-results
    background-color inherit

  .no-result
    color #838ca2
    font-size 13px
    padding 15px 25px 15px 30px

  .display-option
    background-color #fff
    border 1px solid #d5ddec
    border-radius 4px
    box-sizing border-box
    box-shadow 0 1px 2px 0 rgba(0, 0, 0, 0.05), inset 0 0 0 2px rgba(255, 255, 255, 0.17)
    color grey-700
    cursor pointer
    font-size 11px
    font-weight bold
    height 30px
    line-height 30px
    margin 9px 17px 0 legend-left-padding
    padding 0 5px
    text-align center
    text-transform uppercase
    width calc(100% - 17px - legend-left-padding)
    &:last-child
      margin-bottom 10px

  .info, .series-values
    box-sizing border-box
    max-width 159px

  .info
    stick-title-height = 40px
    background-color grey-50
    cursor pointer
    display flex
    height stick-title-height
    justify-content space-between
    padding 0 10px 0 legend-left-padding

    .name, .count
      line-height stick-title-height

    .name
      ellipsis()
      color grey-900
      font-size 13px
      font-weight bold
      padding-right 5px
      svg-icon-style(grey-500, pos-left: -7px, pos-top: 6px)
      svg-icon
        min-width 14px
        width 14px
        svg
          transition transform .25s
      &.showing svg-icon svg
        transform rotate(90deg)

    .count
      color grey-700
      padding-top 1px
      font-size 12px

  .series-values
    .no-result
      padding 0 30px

    button
      align-items flex-start
      background none
      border none
      display flex
      padding 6px 0 6px legend-left-padding
      width 100%

      .select-icon
        background-color #fff
        border 1px solid border-gray
        border-radius 3px
        box-sizing border-box
        flex 0 0 label-line-height
        height label-line-height
        margin-right 11px
        svg-icon-style(grey-900, pos-left: -11px, pos-top: -2px)
        svg-icon
          position absolute
        &.color
          svg-icon-style(#fff, pos-left: -11px, pos-top: -2px)

      .label
        color #858ea4
        font 500 12px font-helvetica-neue
        line-height label-line-height
        text-align left

        .flattened-segment
          line-height label-line-height

          &:not(:first-child)::before
            content "/ "
            display inline


      .delete-wrapper
        display flex
        flex 1 0 10px
        justify-content flex-end
        visibility hidden
        .delete-icon
          svg-icon-style(grey-500, mp-red, size: 18px, speed: 0)

      &.is-event
        padding-right 5px
        .delete-wrapper
         display none

      &.series
        .label, .label .flattened-segment
          ellipsis()


      &.showing
        .label
          transform rotate(0)

        .select-icon
          &:before
            display inline-block

          &.color
            border 0 none
            &:before
              background-color #fff

      &:hover
        .label
          color grey-900

        .delete-wrapper
           visibility visible

      &.hidden
        .name:before
          transform rotate(-90deg)

          .substr
            color grey-900

