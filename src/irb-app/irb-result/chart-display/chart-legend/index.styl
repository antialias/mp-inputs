@import "../../../../stylesheets/common"

legend-left-padding = 15px
label-line-height = 18px

.legend, chart-legend, .chart-legend
  display flex
  flex-direction column
  flex 1 0

.chart-legend
  background-color grey-50
  border-radius 0 0 5px 0
  display flex
  flex-direction column

  .has-results
    flex-grow 1

    .checkbox-select-all
      margin-top 5px

  .header
    background-color header-gray
    border 1px solid border-gray
    border-right none
    border-top none
    color grey-500
    flex 0 0
    font-size 12px
    font-weight 900
    height 40px
    line-height 40px
    padding-left legend-left-padding

  .content-wrapper
    border-left 1px dotted border-gray
    display flex
    flex 1 0
    flex-direction column
    height 100%
    min-height 600px
    position relative

  .search
    border-bottom 1px solid #dde8ef
    position relative
    svg-icon-style(grey-500, pos-left: 12px, pos-top: 7px)
    svg-icon
      position absolute

    &.active:before
      background-color grey-900

    input
      background-color #fff
      border 0
      box-sizing border-box
      color grey-900
      font 500 13px font-helvetica-neue
      margin 0
      padding 0
      padding-left legend-left-padding + 24px
      height 36px
      width 100%
      &::placeholder
        color #a9b7c4

      &:focus
        outline-width 0

  .body-loader
    height 400px
    padding 20px

    .series-loader
      display flex
      height loader-bar-height
      margin-bottom 18px

      .select-icon-loader
        background-color grey-200
        border-radius 3px
        height loader-bar-height
        margin-right 12px
        width loader-bar-height

      .label-loader
        background-color grey-200
        border-radius 3px
        flex 1 1
        height loader-bar-height

  .has-results
    background-color inherit

  .no-result
    color #838ca2
    font-size 13px
    padding 15px 25px 15px 30px

  .display-option
    background-color #fff
    border 1px solid #d5ddec
    border-radius 4px
    box-sizing border-box
    box-shadow 0 1px 2px 0 rgba(0, 0, 0, 0.05), inset 0 0 0 2px rgba(255, 255, 255, 0.17)
    color grey-700
    cursor pointer
    font-size 11px
    font-weight bold
    height 30px
    line-height 30px
    margin 9px 17px 0 legend-left-padding
    padding 0 5px
    text-align center
    text-transform uppercase
    width calc(100% - 17px - legend-left-padding)
    &:last-child
      margin-bottom 10px

  .info, .series-values
    box-sizing border-box
    margin-right 8px

  .info
    stick-title-height = 40px
    background-color grey-50
    cursor pointer
    display flex
    height stick-title-height
    justify-content space-between
    padding 0 10px 0 legend-left-padding

    .name, .count
      line-height stick-title-height

    .name
      ellipsis()
      color grey-700
      font-size 13px
      font-weight bold
      padding-right 5px
      svg-icon-style(grey-500, pos-left: -7px, pos-top: 6px)
      svg-icon
        min-width 14px
        width 14px
        svg
          transition transform .25s
      &.showing svg-icon svg
        transform rotate(90deg)

    .count
      color grey-700
      padding-top 1px
      font-size 12px

  .series-values
    .no-result
      padding 0 30px

    .checkbox-item
      box-sizing border-box
      padding-left legend-left-padding

      .checkbox-label
        .flattened-segment
          line-height label-line-height

          &:not(:first-child)::before
            content "/ "
            display inline


      .delete-wrapper
        display flex
        flex 1 0 10px
        justify-content flex-end
        visibility hidden
        .delete-icon
          svg-icon-style(grey-500, mp-red, size: 18px, speed: 0)

      &.is-event
        padding-right 5px
        .delete-wrapper
         display none

      &.series
        .checkbox-label, .flattened-segment
          ellipsis()

      &.showing
        .label
          transform rotate(0)

        .checkbox-select-icon
          &:before
            display inline-block

          &.color
            border 0 none
            &:before
              background-color #fff

      &:hover
        .label
          color grey-900

        .delete-wrapper
           visibility visible

      &.hidden
        .name:before
          transform rotate(-90deg)

          .substr
            color grey-900

