@import "../../../stylesheets/common"

legend-width = 174px
min-bar-chart-height = 600px

.irb-result
  position relative

  .chart
    display flex
    width 100%
    transition opacity .2s

    &.bar-chart-type
      min-height min-bar-chart-height

    .highcharts-tooltip, .content
      .title
        ellipsis()
        background-color blue-500
        color #fff
        max-width 500px
        font 14px font-helvetica-neue
        overflow hidden
        padding 10px 16px

      .results
        color grey-900
        display flex
        padding 10px 15px

        .absolute
          flex-grow 1
          text-align left

          .count
            font-weight 700

        .percent
          color grey-500
          flex-grow 1
          font-weight 400
          text-align right

    .bar-color, .series-icon.color, .title
      &.segment-color-1
        background segment-color-1

      &.segment-color-2
        background segment-color-2

      &.segment-color-3
        background segment-color-3

      &.segment-color-4
        background segment-color-4

      &.segment-color-5
        background segment-color-5

      &.segment-color-6
        background segment-color-6

      &.segment-color-7
        background segment-color-7

      &.segment-color-8
        background segment-color-8

  .main-chart
    flex 1 1
    position relative
    width "calc(100% - %s)" % legend-width

    .chart-header-container
      background-color header-gray
      color grey-500
      font-size 12px
      height 40px
      line-height 40px

  .chart-loader
    .chart-header-container
      border-bottom solid 1px border-gray
      display flex

      .header-text-container
        display flex
        flex-direction row
        justify-content center
        width 100%

        .header-text
          background-color grey-200
          height 16px
          left 16px
          position relative
          top 12px
          width 30%

      .header-icon
        float right
        height 100%
        width 32px
        svg-icon-style(grey-700, pos-top: 7px, pos-left: 5px)

    .chart-graph
      background-color white
      border-radius 0 0 15px 15px
      display flex
      flex-direction row
      height 559px
      justify-content center
      width 100%

      .chart-graph-text
        line-height 25

      .loader
        left 63px
        loader(10px)
        position relative
        top -190px

  .legend
    flex 0 0 legend-width
    z-index 1

  .toast
    margin-top -60px
    margin-left 10px

.sticky-chart-headers
  .bar-chart-type
    min-height 100vh

  .main-chart
    flex 0 0 auto

    .extras-menu-container
      z-index 3

      .toggle-view > li
        position fixed
        right "calc(%s + 20px)" % legend-width
        top 0

    thead
      position fixed
      top 0
      width "calc(100vw - 20px - 20px - %s)" % legend-width
      z-index 2

    tbody
      margin-top 40px

  .legend
    height 100vh
    min-height min-bar-chart-height
    position fixed
    right 20px // padding from app
    top 0
    width legend-width

    sticky-scroll
      height 100%

.error-no-project-data .irb-result
  .chart-graph
    align-items center
    flex-direction column
    height 380px

    .chart-error-no-data-text
      color grey-900
      font-size 16px
      font-weight 900

    .chart-error-data-image
      bg-img('no-data-laptop.svg', 165px, 117px)
      margin-bottom 30px

  .bar-chart-type
      min-height auto
