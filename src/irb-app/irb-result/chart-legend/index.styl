@import "../../../stylesheets/common"

legend-left-padding = 15px

label-medium-gray = #7e879e

// bar chart's scroll has not be decided. Only full height legend on Line chart.
.chart-legend .has-results
  height 400px
.line-chart-type .chart-legend .has-results
  height 100%

.chart-legend
  background-color #f9fafc
  border-radius 0 0 5px 0
  display flex
  flex-direction column
  height 100%

  .header
    background-color header-gray
    border 1px solid border-gray
    border-right none
    border-top none
    color grey-500
    flex 0 0
    font-size 12px
    height 40px
    line-height 40px
    padding-left legend-left-padding

  .content-wrapper
    border-left 1px dotted border-gray
    display flex
    flex 1 0
    flex-direction column
    height 100%
    min-height 600px
    position relative

  .search
    border-bottom 1px solid #dde8ef
    position relative
    &:before
      background-color grey-500
      content ''
      display block
      height 100%
      left legend-left-padding
      mask url("~assets/charts/search.svg") no-repeat center
      position absolute
      width 16px

    &.active:before
      background-color grey-900


    input
      background-color #fff
      border 0
      box-sizing border-box
      color grey-900
      font 500 13px font-helvetica-neue
      margin 0
      padding 0
      padding-left legend-left-padding + 24px
      height 36px
      width 100%
      &::placeholder
        color #a9b7c4

      &:focus
        outline-width 0

  .has-results
    background-color inherit

  .no-result
    color #838ca2
    font-size 13px
    padding 15px 25px 15px 30px

  .display-option
    background-color #fff
    border 1px solid #d5ddec
    border-radius 4px
    box-sizing border-box
    box-shadow 0 1px 2px 0 rgba(0, 0, 0, 0.05), inset 0 0 0 2px rgba(255, 255, 255, 0.17)
    color label-medium-gray
    cursor pointer
    font-size 11px
    font-weight bold
    height 30px
    line-height 30px
    margin 9px 17px 0 legend-left-padding
    padding 0 5px
    text-align center
    text-transform uppercase
    width calc(100% - 17px - legend-left-padding)
    &:last-child
      margin-bottom 10px

  .info, .series-values
    box-sizing border-box
    max-width 159px

  .info
    stick-title-height = 40px
    background-color lighten(background-gray, 75%)
    cursor pointer
    display flex
    height stick-title-height
    justify-content space-between
    padding 0 10px 0 legend-left-padding

    .name, .count
      line-height stick-title-height

    .name
      ellipsis()
      color grey-900
      font-size 13px
      font-weight bold
      padding-right 5px

      &:before
        background medium-gray
        content ''
        display inline-block
        height 10px
        margin-right 5px
        mask url("~assets/chart-controls/twirl-caret.svg") center center/16px 16px no-repeat
        transition transform .25s
        transform rotate(-90deg)
        width 8px

      &.showing
        &:before
          transform rotate(0)

    .count
      color label-medium-gray
      padding-top 1px
      font-size 12px

  .series-values
    .no-result
      padding 0 30px

    button
      align-items center
      background none
      border none
      display flex
      padding 6px 0 6px legend-left-padding
      width 100%

      .select-icon
        background-color #fff
        border 1px solid #d3dee8
        border-radius 3px
        box-sizing border-box
        flex 0 0 18px
        height 18px
        margin-right 11px

        &:before
          background-color grey-900
          content ''
          display none
          width 100%
          height 100%

      .series-icon
        &:before
          mask url("~assets/properties/check.svg") no-repeat center

      .select-all-icon
        &:before
          display inline-block
          mask url("~assets/chart-controls/dash.svg") center center/12px 12px  no-repeat

      .label
        color #858ea4
        font 500 12px font-helvetica-neue
        text-align left

      .delete-wrapper
        display flex
        flex 1 0 10px
        justify-content flex-end
        visibility hidden

        .delete-icon
          background-color grey-500
          height 12px
          margin-right 5px
          mask url("~assets/chart-controls/x.svg") center center/12px 12px  no-repeat
          width 12px
          &:hover
            background-color grey-900

      &.is-event
        padding-right 5px
        .delete-wrapper
         display none

      &.series
        .label
          ellipsis()

      &.showing
        .label
          transform rotate(0)

        .select-icon
          &:before
            display inline-block

          &.color
            border 0 none
            &:before
              background-color #fff

          &.select-all-icon
            &:before
              mask url("~assets/properties/check.svg") no-repeat center

      &:hover
        .label
          color grey-900

        .delete-wrapper
           visibility visible

      &.hidden
        .name:before
          transform rotate(-90deg)

          .substr
            color grey-900

