@import "../../../stylesheets/common"

legend-left-padding = 15px

.chart-legend
  background-color #f9fafc
  border-radius 0 0 5px 0
  display flex
  flex-direction column
  height 100%

  .header
    background-color header-gray
    border 1px solid border-gray
    border-right none
    border-top none
    color grey-500
    font-size 12px
    height 40px
    line-height 40px
    padding-left legend-left-padding

  .search
    border-left 1px solid lighten(background-gray, 25%)
    border-bottom 1px solid #dde8ef
    position relative
    &:before
      background-color #9cacbb
      content ''
      display block
      height 100%
      left legend-left-padding
      mask url(../../../../assets/charts/search.svg) no-repeat center
      position absolute
      width 16px

    &.active:before
      background-color #4c6072


    input
      background-color #fff
      border 0
      box-sizing border-box
      color #4c6072
      font 500 13px font-helvetica-neue
      margin 0
      padding 0
      padding-left legend-left-padding + 24px
      height 36px
      width 100%
      &::placeholder
        color #a9b7c4

      &:focus
        outline-width 0


  .results
    background-color inherit
    border-left 1px solid lighten(background-gray, 25%)
    margin-right 6px

  .no-result
    color #838ca2
    font-size 13px
    padding 15px 25px 15px 30px

  .display-option
    background-color #fff
    border 1px solid #d5ddec
    border-radius 4px
    box-sizing border-box
    box-shadow 0 1px 2px 0 rgba(0, 0, 0, 0.05), inset 0 0 0 2px rgba(255, 255, 255, 0.17)
    color #7e879e
    cursor pointer
    font-size 11px
    font-weight bold
    height 30px
    line-height 30px
    margin 9px 17px 0 legend-left-padding
    padding 0 5px
    text-align center
    text-transform uppercase
    width calc(100% - 17px - legend-left-padding)

  .info
    stick-title-height = 40px
    background-color lighten(background-gray, 75%)
    cursor pointer
    display flex
    height stick-title-height
    justify-content space-between
    padding 0 10px 0 legend-left-padding

    .name, .count
      line-height stick-title-height

    .name
      ellipsis()
      color #4c6072
      font-size 13px
      font-weight bold

      &:before
        background medium-gray
        content ''
        display inline-block
        height 10px
        margin-right 6px
        mask url(../../../../assets/chart-controls/caret-dropdown.svg) no-repeat center
        transition transform .25s
        transform rotate(-90deg)
        width 10px

      &.showing
        &:before
          transform rotate(0)

    .count
      color #7e879e
      font-size 12px

  .series-values
    .no-result
      padding 0 30px

    button
      align-items center
      background none
      border none
      display flex
      padding 6px 0 6px legend-left-padding
      width 100%

      .icon
        background-color #fff
        border 1px solid #d3dee8
        border-radius 3px
        box-sizing border-box
        flex 0 0 18px
        height 18px
        margin-right 11px

        &:before
          background-color #4c6072
          content ''
          display none
          width 100%
          height 100%
          mask url(../../../../assets/properties/check.svg) no-repeat center

      .label
        color #858ea4
        font 500 12px font-helvetica-neue
        text-align left

        &.search-result
            .matches-search
              color #4c6072
              font-weight 600

      .delete-wrapper
         display flex
         flex 1 0 10px
         justify-content flex-end
         visibility hidden

        .delete
          width 10px
          color light-gray
          &:hover
            color dark-gray

      &.series
        .label
          ellipsis()

      &.showing
        .label
          transform rotate(0)

        .icon
          &:before
            display inline-block

          &.color
            border 0 none
            background-color light-gray
            &:before
              background-color #fff

      &:hover
        .label
          color #4c6072

        .delete-wrapper
           visibility visible

      &.hidden
        .name:before
          transform rotate(-90deg)

          .slice
            color #4c6072
