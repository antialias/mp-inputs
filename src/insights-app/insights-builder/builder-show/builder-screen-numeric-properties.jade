include ../mixins.jade

- const loading = $helpers.isLoading()

.builder-screen.properties
  +screen-title(`Properties of ${$helpers.getEventLabel()}`, {backButton: $helpers.screenIdx() > 1})
  mp-items-menu(
    attrs={
      'search-filter': contextFilter,
      'sections': JSON.stringify($helpers.getPropertySections()),
      'empty-message': $component.isShowingNonNumericProperties() ? `No properties available` : `No non-numeric properties available`,
    }
    on={
      clickItem: ev => $helpers.clickedProperty(ev, ev.detail.item),
      draw: $helpers.updateRenderedSize,
    }
  )
  if !loading
    +screen-footer-button(($component.isShowingNonNumericProperties() ? `Hide` : `View all`) + ` non-numeric properties`, {
      onclick: $helpers.toggleNonNumericProperties,
    })
