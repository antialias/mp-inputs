include ../mixins.jade

- const clause = $helpers.getGroupClause()
- const selectedUnit = clause.unit

.builder-screen.datetime-options
  - const title = `${util.renameProperty(clause.value)}'s time unit`
  +screen-title(title, {backButton: true})
  ul.screen-options-list(hook={postpatch: $helpers.updateRenderedSize})
    - const units = $helpers.availableUnits()
    if units.length
      each unit in units
        - const isActive = unit.index === builderPane.activeIndex
        - const isSelected = unit.name.toLowerCase() === selectedUnit
        li.list-option(
          class={
            'list-option-active': isActive,
            'list-option-selected': isSelected
          }
          on={
            click: !isSelected ? () => $helpers.clickedUnit(unit) : null,
          }
        )
          +screen-option(unit.name, {noIcon: true, matches: unit.matches})
    else
      //- TODO: pull this out into a mixin for all other no results
      li.list-option.list-empty Your search returned no results
