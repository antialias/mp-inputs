@import "../../../stylesheets/common"

legend-width = 174px
min-bar-chart-height = 600px

.insights-result
  position relative

  .chart
    display flex
    width 100%
    transition opacity .2s

    &.bar-chart-type
      min-height min-bar-chart-height

    .highcharts-tooltip, .content
      .title
        ellipsis()
        background-color mp-navy
        color #fff
        max-width 300px
        font 14px font-helvetica-neue
        overflow hidden
        padding 10px 16px

      .results
        align-items center
        color grey-900
        display flex
        padding 10px 15px

        .absolute
          flex-grow 1
          text-align left

          .count
            font-weight 700

        .percent, .delta
          color grey-700
          flex-grow 1
          font-weight 400
          margin-left 14px
          text-align right

        .delta-pos
          color mp-green

        .delta-neg
          color mp-red

      .footer
        background-color grey-50
        box-shadow inset 0 1px 0 0 grey-150
        color grey-500
        font 12px font-helvetica-neue
        line-height 24px

    .bar-color, .series-icon.color, .title
      &.segment-color-1
        background segment-color-1

      &.segment-color-2
        background segment-color-2

      &.segment-color-3
        background segment-color-3

      &.segment-color-4
        background segment-color-4

      &.segment-color-5
        background segment-color-5

      &.segment-color-6
        background segment-color-6

      &.segment-color-7
        background segment-color-7

      &.segment-color-8
        background segment-color-8
        color lighten(grey-900, 28%)

        // custom dark color for yellow bar inside labels
        .label
          color lighten(grey-900, 28%)

  .main-chart
    overflow hidden
    position relative
    width 100%

    .chart-header-container
      background-color header-gray
      color grey-500
      font-size 12px
      height 40px
      line-height 40px

  .has-legend
    .main-chart
      width "calc(100% - %s)" % legend-width

  .chart-loader
    .chart-header-container
      border-bottom solid 1px border-gray
      display flex

      .header-text-container
        align-items center
        display flex
        justify-content center
        width 100%

        .header-text
          background-color grey-200
          border-radius 3px
          height loader-bar-height
          width 30%

      .header-icon
        float right
        height 100%
        width 32px
        svg-icon-style(grey-500, pos-top: 10px, pos-left: 5px)

    .chart-graph
      align-items center
      background-color white
      border-radius 0 0 15px 15px
      display flex
      flex-direction column
      height 559px
      justify-content center
      width 100%

      .chart-graph-text
        line-height 25px
        margin 20px 0

      mp-spinner
        height 75px
        width 75px

  .legend
    flex 0 0 legend-width
    z-index 1

  .toast
    margin-top -60px
    margin-left 10px

.sticky-chart-headers
  .bar-chart-type
    min-height 100vh

    .extras-menu-container
      z-index 3

      .toggle-view > li
        position fixed
        top 0

  .has-legend
    .main-chart
      width 100%

  .legend
    position fixed
    top 0
    width legend-width

    sticky-scroll
      height 100%

.error-no-data
  height 380px

  .chart-graph
    align-items center
    display flex
    flex-direction column
    height 100%
    justify-content center

    .chart-error-no-data-text
      color grey-900
      font-size 16px
      font-weight 900

    .chart-error-data-image
      bg-img('~assets/images/no-data-laptop.svg', 165px, 117px)
      margin-bottom 30px

  .bar-chart-type
      min-height auto
